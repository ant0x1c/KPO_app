<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–í—Ö–æ–¥</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <script>
        // –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        (function() {
            const theme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-bs-theme', theme);
        })();
    </script>
</head>
<body class="bg-body text-body p-5">
<div class="container">
    <h2>–í–æ–π—Ç–∏</h2>

    <!-- Alert from registration -->
    <p th:if="${success}" class="alert alert-success" th:text="${success}"></p>

    <!-- Alerts for login and logout -->
    <p th:if="${error}" class="alert alert-danger" th:text="${error}"></p>
    <p th:if="${logout}" class="alert alert-success" th:text="${logout}"></p>

    <form method="post" action="/login">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

        <div class="mb-3">
            <label class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
            <input type="text" class="form-control" name="username" required>
        </div>

        <div class="mb-3">
            <label class="form-label">–ü–∞—Ä–æ–ª—å</label>
            <input type="password" class="form-control" name="password" required>
        </div>

        <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏</button>
    </form>

    <p class="mt-3">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="/users/register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a></p>
</div>

<button id="themeToggleBtn"
        class="btn btn-secondary position-fixed bottom-0 end-0 m-3">
    üåì
</button>

<script>
    document.getElementById('themeToggleBtn')?.addEventListener('click', function () {
        const currentTheme = document.documentElement.getAttribute('data-bs-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        document.documentElement.setAttribute('data-bs-theme', newTheme);
        localStorage.setItem('theme', newTheme);
    });
</script>
</body>
</html>
